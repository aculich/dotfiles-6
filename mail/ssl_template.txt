From: Joey Pabalinas <joeypabalinas@gmail.com>
To: Secure Systems Lab Mailing List <securesystemslab@googlegroups.com>
Cc: Justin Cappos <jcappos@nyu.edu>,
	Brendan Dolan-Gavitt <brendandg@nyu.edu>,
	Li Yiwen <detectivelyw@gmail.com>,
	Preston Moore <pkm266@nyu.edu>,
	Alan Cao <alcao758@gmail.com>,
	CrashSimulator Mailing List <crashsimulator-dev@googlegroups.com>,
	Joey Pabalinas <joeypabalinas@gmail.com>
Bcc:
Subject: [2018-11-28] Joey's Progress Report
Reply-To:
In-Reply-To:

/*
 * Joey's Progress Report
 */

This week I did a lot of debugging with Lind, trying to figure
why it seems to be exploding with httpd. So far I haven't had
much luck, so I'm going to be revisiting each part of my code
with small, isolated test cases to try and pinpoint exactly
what the root cause is.

So far, what I've been able to determine is that the conditions
involve the usage of fork() and exec() together. I haven't been
able to concretely confirm it yet, but after some contemplation
by mentally stepping through each part of that code sequence, the
one thing that sticks out is that fork() is copying all of the
parent state to a child which exec() then replaces the process
image of. Because of this, my theory is that there is some sort
of mismatch between unintended parent state which has persisted
into the child which causes the subsequent exec() to explode in
such a spectacular way.

I'm currently looking at each part of my fork()/exec() implementation
and trying to pinpoint exactly where the issue lies.

Apart from that, I converted Preston's syscallreplay to 64-bit and
attempted to get CrashSimulator up and running,  but it's still
misbehaving on my 64-bit system. The docker image running the 32-bit
Ubuntu works perfectly, so I'm going to poke at this a bit more
and I feel like if it still stubbornly refuses to budge, then it
might be better to shelf this 64-bit port for now.

The docker image addresses most of the concerns I had about usability,
my main rationale for porting to 64-bit, so even if this is the case
and we have to live with the 32-bit docker image, it's not a huge loss.

/* Plans For Next Week */

- Continue to try and get our 64-bit port of CrashSimulator working
  smoothly.
- Continue to try to get httpd working.
- Attempt to debug exactly why fork()/exec() isn't working correctly.

That's all for this week, thanks.

-- 
Cheers,
Joey Pabalinas
